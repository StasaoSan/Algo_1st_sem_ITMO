Правильная скобочная последовательность

Входные данные содержат несколько строк, каждая из которых содержит последовательность символов (, ), [ и ]. Выясните, является ли она правильной скобочной последовательностью с двумя типами скобок.

Подсказка: используйте стек.

Входные данные

Не более 500 строк, каждая из которых содержит скобочную последовательность длиной не более чем в 10^4 символов.

Выходные данные

Для каждой строки входных данных выведите в выходной файл YES, если соответствующая последовательность является правильной скобочной последовательностью, или NO, если не является.